only contains the logic part of the atm
